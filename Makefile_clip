
CLIPROOT=/clip

#LINKEREXE=/cl/SC_CLIB/blink.sh
LIBEXE=ar -r 
LIBSUFFIX=
LIBEXT=.dll.a
CLIPPERCOMP=/clip/bin/clip

LIB_DEST=/clip/lib/

CLIPPERFLAGS0= -DC52 -DCDX -DCLIP -D$(VERZIJA) -U/cl/sigma/sclib/cdx/std.ch -I/cl/sigma/sclib
CLIPPERROOT=/clipper
#ASMCOMP=./ASM52.bat
ASMFLAGS=
EXEDEST=/c/SIGMA
CCOMP=gcc
CFLAGS=-Wall -I. -I./include -g -I/clip/include

SRCDOSROOT=/clip/sigma/sc_clib/

CLIPPERFLAGS=$(CLIPPERFLAGS0)

ifeq "${SPECIF}" "1"
	CLIPPERFLAGS += -DSPECIF
endif


ifeq "${DEPR}" "1"
	CLIPPERFLAGS += -DDEPR
endif


ifndef DEBUG
	DEBUG=0
	#echo "Definisem debug"
endif  

ifeq "${DEBUG}" "1"
	CLIPPERFLAGS=$(CLIPPERFLAGS0) -D$(MODUL)
	DEBUGLINK=
	DEBUGDIR=
endif


#ifeq "${PP}" "on"
#	CLIPPERPP=/p
#else
#CLIPPERPP=
#endif

#ifeq "${VERZIJA}" "CDX"
#	CCOMP=/cl/elib/c52.bat 
#else
#	F1 = /y
#endif



#DLLSUFF=.dll.a
#EXESUFF=.exe
#DLLREALSUFF=.dll
#LIB = libclip-$(MODUL).a
#SLIB = libclip-$(MODUL)$(DLLSUFF)
#SLIBREAL=libclip-$(MODUL)$(DLLREALSUFF)

#TARGET=libclip-$(MODUL)$(DLLSUFF)
#LIBS= $(LIB)


#all:    mod 

#mod: $(OBJS) $(MODULH).CH CDX/$(MODULH).CH
	#ar -r libclip-pos.a $(OBJS)
#	$(CLIPROOT)/bin/clip -e -s -b  $(CLIPPERFLAGS) e.prg $(OBJS) -lclip-sc_clib




OBJPRGS=$(PRGS:.prg=.o)
OBJCS=$(CS:.c=.o)
OBJASMS=$(ASMS:.asm=.o)

LIBCMD=$(OBJPRGS) $(OBJASMS) $(OBJCS)

PREFPLUS=fi
LINKCMD=$(addprefix $(PREFPLUS) , $(OBJPRGS) $(OBJASMS) $(OBJCS) )

#napravi dokumente


.SUFFIXES: .asm .o
.SUFFIXES: .c .o	
.SUFFIXES: .prg .o

.prg.o: 
	#echo "Clippercomp: $(CLIPPERCOMP)"
	#echo "Switchevi: $(CLIPPERFLAGS)"
	#$(CLIPPERCOMP)  $(CLIPPERFLAGS) $(SRCDOSROOT)$< 
	$(CLIPPERCOMP)  $(CLIPPERFLAGS) $< 
	

.asm.o:
	$(ASMCOMP) $(ASMFLAGS) $< 

.c.o:
	$(CCOMP) $(CFLAGS) $<

